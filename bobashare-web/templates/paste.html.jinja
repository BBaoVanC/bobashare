{% extends "base.html.jinja" %}

{% block title %}Paste{% endblock %}
{% block head %}
    <link rel="stylesheet" type="text/css" href='{{ state.base_url.join("static/css/paste.css").unwrap() }}' crossorigin="anonymous">
    <script
        id="paste-script-element"
        data-upload-api-endpoint='{{ state.base_url.join("api/v1/upload/").unwrap() }}'
        data-delete-api-endpoint='{{ state.base_url.join("api/v1/delete/").unwrap() }}'
        src='{{ state.base_url.join("static/js/paste.js").unwrap() }}'
        crossorigin="anonymous"></script>
{% endblock %}

{% block main %}
    <form id="paste-form" class="paste-form">
        <div class="paste-info">
            <div class="paste-filename">
                <input type="text" id="paste-filename" required>
                <input type="text" id="paste-extension" placeholder="txt" required>
            </div>
            <div class="paste-info-right">
                <div class="paste-expiry">
                    {# TODO: deduplicate this from upload.html.jinja #}
                    <label for="paste-expiry">Expires in</label>
                    <input type="number" id="paste-expiry-number" value="1" required>
                    <select id="paste-expiry-unit" required>
                        {% for opt in expiry_units %}
                            <option value='{{ opt.value }}' {% if opt.default %}selected{% endif %}>{{ opt.name }}</option>
                        {% endfor %}
                        {% if never_expiry_allowed %}
                            <option value="0">Never</option>
                        {% endif %}
                    </select>
                </div>
                <div class="paste-submit">
                    <input type="submit" value="Paste">
                </div>
            </div>
            <div class="paste-content">
                <textarea id="paste-textarea"></textarea>
            </div>
        </div>
    </form>
{% endblock %}
